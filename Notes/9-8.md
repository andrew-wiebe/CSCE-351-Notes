Virtual Memory
---
___

how to play flight simulator
- load disk 1 (game binary), after a while it will ask for the airport that yoll be flying out from
- load disk 2 to get scenery info
- you can now take off, as you fly it keeps rendering scenery

whats the deal with swappng disks
- why do we need to put in disk1 then disk2?
    - overlaying - the process of transfering a block of program code or other data into main memory, replacing what is already stored
- the amount of info to run the program is larger than the amount of available memory
- the user is facilitating the process by inserting correct disk


Limitations of physical addressing
- you can only access memory that you have
    - an embedded system with 512KB of RAM would only allow you to access 512KB
What if you want to run multiple program simultaneously?
- do you have enough memory?
- can content from one program interfere with content from other program


1 KB = 2^10
1 MB = 2^20
1 GB = 2^30
16 GB = 2^34 because 16 = 2^4 * 2^30

Using virtual memory
- seperate the data that the CPU is trying to work with, and where it is actually located
- pretend like data is located in one spot when in reality it might be scattered 

Address Spaces
- Linear address space - ordered set of contiguous non negative integer addersses {0,1,2,3,...}
- virtual address space: set of N = 2^n virtual addresses
{0,1,2,3,...,N-1}
- physical address space Set of M = 2^m physical addresses
{0,1,2,3,...,M-1}

virtual addresses give us
- clean distinction between data (bytes) and their attributes (addersses)
- each object can now have multiple addresses
    - every byte in main memory: one physical adderss, one (or more) virtual addresses


process with a smaller PID was created before a larger PID

Visualizing address space - think of making a building with different floors and properties
- when you make a fork system call you are asking the system to make a duplicate off that building with the same values
    - but now when you reference say appt 40 it will be different than the original 40. 
    - they both have the same virtual address (room #) but they are on different buildings

why VM?
- uses main memory efficiently
    - use DRAM as a cache for the parts of a vitrtual address space
- Simplifies memory management
    - each process gets the same uniform linear address space
- Isolates address spaces
    - one process cant interfere with anothers memory
    - user program cannot access privileged kernel information







